<!doctype html><html lang="en"><head><meta charset="UTF-8" /><meta name="viewport" content="width=device-width, initial-scale=1.0" /><title>loyalty.rule - odocgen</title><link rel="stylesheet" href="class.css" /></head><body><h1>loyalty.rule</h1><p>Originally defined in: odoo/addons/loyalty/models/loyalty_rule.py</p><p>Inherited in: odoo/addons/website_sale_loyalty/models/loyalty_rule.py<br/>Inherited in: odoo/addons/pos_loyalty/models/loyalty_rule.py<br/></p><hr/><h2>Original: odoo/addons/loyalty/models/loyalty_rule.py</h2><h3>Fields</h3><details><summary id="f-active">active <span class="position">@ line 39</span></summary><pre>active = fields.Boolean(default=True)</pre></details><details><summary id="f-code">code <span class="position">@ line 76</span></summary><pre>code = fields.Char(string='Discount code', compute='_compute_code', store=True, readonly=False)</pre></details><details><summary id="f-company_id">company_id <span class="position">@ line 43</span></summary><pre>company_id = fields.Many2one(related='program_id.company_id', store=True)</pre></details><details><summary id="f-currency_id">currency_id <span class="position">@ line 44</span></summary><pre>currency_id = fields.Many2one(related='program_id.currency_id')</pre></details><details><summary id="f-minimum_amount">minimum_amount <span class="position">@ line 62</span></summary><pre>minimum_amount = fields.Monetary('Minimum Purchase', 'currency_id')</pre></details><details><summary id="f-minimum_amount_tax_mode">minimum_amount_tax_mode <span class="position">@ line 63</span></summary><pre>minimum_amount_tax_mode = fields.Selection(
        selection=[
            ('incl', "tax included"),
            ('excl', "tax excluded"),
        ],
        default='incl',
        required=True,
    )</pre></details><details><summary id="f-minimum_qty">minimum_qty <span class="position">@ line 61</span></summary><pre>minimum_qty = fields.Integer('Minimum Quantity', default=1)</pre></details><details><summary id="f-mode">mode <span class="position">@ line 72</span></summary><pre>mode = fields.Selection([
        ('auto', 'Automatic'),
        ('with_code', 'With a promotion code'),
    ], string="Application", compute='_compute_mode', store=True, readonly=False)</pre></details><details><summary id="f-product_category_id">product_category_id <span class="position">@ line 51</span></summary><pre>product_category_id = fields.Many2one('product.category', string='Categories')</pre></details><details><summary id="f-product_domain">product_domain <span class="position">@ line 48</span></summary><pre>product_domain = fields.Char(default="[]")</pre></details><details><summary id="f-product_ids">product_ids <span class="position">@ line 50</span></summary><pre>product_ids = fields.Many2many('product.product', string='Products')</pre></details><details><summary id="f-product_tag_id">product_tag_id <span class="position">@ line 52</span></summary><pre>product_tag_id = fields.Many2one('product.tag', string='Product Tag')</pre></details><details><summary id="f-program_id">program_id <span class="position">@ line 40</span></summary><pre>program_id = fields.Many2one('loyalty.program', required=True, ondelete='cascade')</pre></details><details><summary id="f-program_type">program_type <span class="position">@ line 41</span></summary><pre>program_type = fields.Selection(related="program_id.program_type")</pre></details><details><summary id="f-reward_point_amount">reward_point_amount <span class="position">@ line 54</span></summary><pre>reward_point_amount = fields.Float(default=1, string="Reward")</pre></details><details><summary id="f-reward_point_mode">reward_point_mode <span class="position">@ line 59</span></summary><pre>reward_point_mode = fields.Selection(selection=_get_reward_point_mode_selection, required=True, default='order')</pre></details><details><summary id="f-reward_point_name">reward_point_name <span class="position">@ line 58</span></summary><pre>reward_point_name = fields.Char(related='program_id.portal_point_name', readonly=True)</pre></details><details><summary id="f-reward_point_split">reward_point_split <span class="position">@ line 56</span></summary><pre>reward_point_split = fields.Boolean(string='Split per unit', default=False,
        help="Whether to separate reward coupons per matched unit, only applies to 'future' programs and trigger mode per money spent or unit paid..")</pre></details><details><summary id="f-user_has_debug">user_has_debug <span class="position">@ line 47</span></summary><pre>user_has_debug = fields.Boolean(compute='_compute_user_has_debug')</pre></details><h3>Methods</h3><ul id="m-_compute_amount"><li>_compute_amount(self, currency_to) <span class="position">@ line 139</span></li></ul><ul id="m-_get_reward_point_mode_selection"><li>_get_reward_point_mode_selection(self) <span class="position">@ line 29</span></li></ul><ul id="m-_get_valid_product_domain"><li>_get_valid_product_domain(self) <span class="position">@ line 121</span></li></ul><ul id="m-_get_valid_products"><li>_get_valid_products(self) <span class="position">@ line 135</span></li></ul><h2>Inherited: odoo/addons/website_sale_loyalty/models/loyalty_rule.py</h2><h3>Fields</h3><details><summary id="f-website_id">website_id <span class="position">@ line 10</span></summary><pre>website_id = fields.Many2one(related='program_id.website_id', store=True)</pre></details><h2>Inherited: odoo/addons/pos_loyalty/models/loyalty_rule.py</h2><h3>Fields</h3><details><summary id="f-any_product">any_product <span class="position">@ line 14</span></summary><pre>any_product = fields.Boolean(
        compute='_compute_valid_product_ids', help="Technical field, whether all product match")</pre></details><details><summary id="f-promo_barcode">promo_barcode <span class="position">@ line 17</span></summary><pre>promo_barcode = fields.Char("Barcode", compute='_compute_promo_barcode', store=True, readonly=False,
        help="A technical field used as an alternative to the promo code. "
        "This is automatically generated when the promo code is changed."
    )</pre></details><details><summary id="f-valid_product_ids">valid_product_ids <span class="position">@ line 11</span></summary><pre>valid_product_ids = fields.Many2many(
        'product.product', "Valid Products", compute='_compute_valid_product_ids',
        help="These are the products that are valid for this rule.")</pre></details><script src="class.js"></script></body></html>
