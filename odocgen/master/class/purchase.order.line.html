<!doctype html><html lang="en"><head><meta charset="UTF-8" /><meta name="viewport" content="width=device-width, initial-scale=1.0" /><title>purchase.order.line - odocgen</title><link rel="stylesheet" href="class.css" /></head><body><h1>purchase.order.line</h1><p>Inherited in: odoo/addons/stock_landed_costs/models/purchase.py<br/>Inherited in: odoo/addons/stock_dropshipping/models/purchase.py<br/>Inherited in: odoo/addons/sale_purchase/models/purchase_order.py<br/>Inherited in: odoo/addons/purchase_stock/models/purchase_order_line.py<br/>Inherited in: odoo/addons/purchase_requisition_stock/models/purchase.py<br/>Inherited in: odoo/addons/purchase_requisition/models/purchase.py<br/>Inherited in: odoo/addons/purchase_product_matrix/models/purchase.py<br/>Inherited in: odoo/addons/purchase_mrp/models/purchase.py<br/>Inherited in: odoo/addons/purchase/models/purchase_order_line.py<br/>Inherited in: odoo/addons/project_purchase/models/purchase_order_line.py<br/></p><hr/><h2>Inherited: odoo/addons/stock_landed_costs/models/purchase.py</h2><h3>Methods</h3><ul id="m-_prepare_account_move_line"><li>_prepare_account_move_line(self, move) <span class="position">@ line 6</span></li></ul><h2>Inherited: odoo/addons/stock_dropshipping/models/purchase.py</h2><h3>Methods</h3><ul id="m-_find_candidate"><li>_find_candidate(self, product_id, product_qty, product_uom, location_id, name, origin, company_id, values) <span class="position">@ line 36</span></li></ul><ul id="m-_prepare_stock_moves"><li>_prepare_stock_moves(self, picking) <span class="position">@ line 30</span></li></ul><h2>Inherited: odoo/addons/sale_purchase/models/purchase_order.py</h2><h3>Fields</h3><details><summary id="f-sale_line_id">sale_line_id <span class="position">@ line 74</span></summary><pre>sale_line_id = fields.Many2one('sale.order.line', string="Origin Sale Item", index='btree_not_null', copy=False)</pre></details><details><summary id="f-sale_order_id">sale_order_id <span class="position">@ line 73</span></summary><pre>sale_order_id = fields.Many2one(related='sale_line_id.order_id', string="Sale Order", store=True, readonly=True)</pre></details><h2>Inherited: odoo/addons/purchase_stock/models/purchase_order_line.py</h2><h3>Fields</h3><details><summary id="f-forecasted_issue">forecasted_issue <span class="position">@ line 31</span></summary><pre>forecasted_issue = fields.Boolean(compute='_compute_forecasted_issue')</pre></details><details><summary id="f-location_final_id">location_final_id <span class="position">@ line 32</span></summary><pre>location_final_id = fields.Many2one('stock.location', 'Location from procurement')</pre></details><details><summary id="f-move_dest_ids">move_dest_ids <span class="position">@ line 28</span></summary><pre>move_dest_ids = fields.Many2many('stock.move', 'stock_move_created_purchase_line_rel', 'created_purchase_line_id', 'move_id', 'Downstream moves alt')</pre></details><details><summary id="f-move_ids">move_ids <span class="position">@ line 26</span></summary><pre>move_ids = fields.One2many('stock.move', 'purchase_line_id', string='Reservation', readonly=True, copy=False)</pre></details><details><summary id="f-orderpoint_id">orderpoint_id <span class="position">@ line 27</span></summary><pre>orderpoint_id = fields.Many2one('stock.warehouse.orderpoint', 'Orderpoint', copy=False, index='btree_not_null')</pre></details><details><summary id="f-product_description_variants">product_description_variants <span class="position">@ line 29</span></summary><pre>product_description_variants = fields.Char('Custom Description')</pre></details><details><summary id="f-propagate_cancel">propagate_cancel <span class="position">@ line 30</span></summary><pre>propagate_cancel = fields.Boolean('Propagate cancellation', default=True)</pre></details><details><summary id="f-qty_received_method">qty_received_method <span class="position">@ line 23</span></summary><pre>qty_received_method = fields.Selection(selection_add=[('stock_moves', 'Stock Moves')],
                                           ondelete={'stock_moves': _ondelete_stock_moves})</pre></details><h3>Methods</h3><ul id="m-_check_orderpoint_picking_type"><li>_check_orderpoint_picking_type(self) <span class="position">@ line 261</span></li></ul><ul id="m-_compute_qty_received_method"><li>_compute_qty_received_method(self) <span class="position">@ line 34</span></li></ul><ul id="m-_create_or_update_picking"><li>_create_or_update_picking(self) <span class="position">@ line 160</span></li></ul><ul id="m-_create_stock_moves"><li>_create_stock_moves(self, picking) <span class="position">@ line 326</span></li></ul><details><summary id="m-_find_candidate">_find_candidate(self, product_id, product_qty, product_uom, location_id, name, origin, company_id, values) <span class="position">@ line 335</span></summary><pre>Return the record in self where the procument with values passed as
args can be merged. If it returns an empty record then a new line will
be created.</pre></details><ul id="m-_get_move_dests_initial_demand"><li>_get_move_dests_initial_demand(self, move_dests) <span class="position">@ line 211</span></li></ul><ul id="m-_get_outgoing_incoming_moves"><li>_get_outgoing_incoming_moves(self) <span class="position">@ line 366</span></li></ul><ul id="m-_get_po_line_moves"><li>_get_po_line_moves(self) <span class="position">@ line 40</span></li></ul><ul id="m-_get_qty_procurement"><li>_get_qty_procurement(self) <span class="position">@ line 249</span></li></ul><ul id="m-_get_stock_move_price_unit"><li>_get_stock_move_price_unit(self) <span class="position">@ line 193</span></li></ul><ul id="m-_ondelete_stock_moves"><li>_ondelete_stock_moves(self) <span class="position">@ line 11</span></li></ul><ul id="m-_prepare_stock_move_vals"><li>_prepare_stock_move_vals(self, picking, price_unit, product_uom_qty, product_uom) <span class="position">@ line 268</span></li></ul><details><summary id="m-_prepare_stock_moves">_prepare_stock_moves(self, picking) <span class="position">@ line 216</span></summary><pre>Prepare the stock moves data for one order line. This function returns a list of
dictionary ready to be used in stock.move's create()</pre></details><ul id="m-_update_date_planned"><li>_update_date_planned(self, updated_date) <span class="position">@ line 379</span></li></ul><details><summary id="m-_update_move_date_deadline">_update_move_date_deadline(self, new_date) <span class="position">@ line 152</span></summary><pre>Updates corresponding move picking line deadline dates that are not yet completed.</pre></details><ul id="m-action_product_forecast_report"><li>action_product_forecast_report(self) <span class="position">@ line 116</span></li></ul><ul id="m-unlink"><li>unlink(self) <span class="position">@ line 130</span></li></ul><ul id="m-write"><li>write(self, values) <span class="position">@ line 92</span></li></ul><h2>Inherited: odoo/addons/purchase_requisition_stock/models/purchase.py</h2><h3>Fields</h3><details><summary id="f-on_time_rate_perc">on_time_rate_perc <span class="position">@ line 30</span></summary><pre>on_time_rate_perc = fields.Float(string="OTD", related="order_id.on_time_rate_perc")</pre></details><h2>Inherited: odoo/addons/purchase_requisition/models/purchase.py</h2><h3>Fields</h3><details><summary id="f-company_currency_id">company_currency_id <span class="position">@ line 266</span></summary><pre>company_currency_id = fields.Many2one(related="company_id.currency_id", string="Company Currency")</pre></details><details><summary id="f-price_total_cc">price_total_cc <span class="position">@ line 265</span></summary><pre>price_total_cc = fields.Monetary(compute='_compute_amount', string="Company Total", currency_field="company_currency_id", store=True)</pre></details><h3>Methods</h3><ul id="m-_compute_price_unit_and_date_planned_and_name"><li>_compute_price_unit_and_date_planned_and_name(self) <span class="position">@ line 274</span></li></ul><ul id="m-action_choose"><li>action_choose(self) <span class="position">@ line 318</span></li></ul><ul id="m-action_clear_quantities"><li>action_clear_quantities(self) <span class="position">@ line 303</span></li></ul><h2>Inherited: odoo/addons/purchase_product_matrix/models/purchase.py</h2><h3>Fields</h3><details><summary id="f-is_configurable_product">is_configurable_product <span class="position">@ line 167</span></summary><pre>is_configurable_product = fields.Boolean('Is the product configurable?', related="product_template_id.has_configurable_attributes")</pre></details><details><summary id="f-product_no_variant_attribute_value_ids">product_no_variant_attribute_value_ids <span class="position">@ line 169</span></summary><pre>product_no_variant_attribute_value_ids = fields.Many2many('product.template.attribute.value', string='Product attribute values that do not create variants', ondelete='restrict')</pre></details><details><summary id="f-product_template_attribute_value_ids">product_template_attribute_value_ids <span class="position">@ line 168</span></summary><pre>product_template_attribute_value_ids = fields.Many2many(related='product_id.product_template_attribute_value_ids', readonly=True)</pre></details><details><summary id="f-product_template_id">product_template_id <span class="position">@ line 166</span></summary><pre>product_template_id = fields.Many2one('product.template', string='Product Template', related="product_id.product_tmpl_id", domain=[('purchase_ok', '=', True)])</pre></details><h3>Methods</h3><ul id="m-_get_product_purchase_description"><li>_get_product_purchase_description(self, product) <span class="position">@ line 171</span></li></ul><h2>Inherited: odoo/addons/purchase_mrp/models/purchase.py</h2><h3>Methods</h3><ul id="m-_compute_qty_received"><li>_compute_qty_received(self) <span class="position">@ line 50</span></li></ul><ul id="m-_get_move_dests_initial_demand"><li>_get_move_dests_initial_demand(self, move_dests) <span class="position">@ line 87</span></li></ul><ul id="m-_get_qty_procurement"><li>_get_qty_procurement(self) <span class="position">@ line 76</span></li></ul><ul id="m-_get_upstream_documents_and_responsibles"><li>_get_upstream_documents_and_responsibles(self, visited) <span class="position">@ line 73</span></li></ul><h2>Inherited: odoo/addons/purchase/models/purchase_order_line.py</h2><h3>Fields</h3><details><summary id="f-company_id">company_id <span class="position">@ line 50</span></summary><pre>company_id = fields.Many2one('res.company', related='order_id.company_id', string='Company', store=True, readonly=True)</pre></details><details><summary id="f-currency_id">currency_id <span class="position">@ line 68</span></summary><pre>currency_id = fields.Many2one(related='order_id.currency_id', store=True, string='Currency', readonly=True)</pre></details><details><summary id="f-date_approve">date_approve <span class="position">@ line 70</span></summary><pre>date_approve = fields.Datetime(related="order_id.date_approve", string='Confirmation Date', readonly=True)</pre></details><details><summary id="f-date_order">date_order <span class="position">@ line 69</span></summary><pre>date_order = fields.Datetime(related='order_id.date_order', string='Order Date', readonly=True)</pre></details><details><summary id="f-date_planned">date_planned <span class="position">@ line 25</span></summary><pre>date_planned = fields.Datetime(
        string='Expected Arrival', index=True,
        compute="_compute_price_unit_and_date_planned_and_name", readonly=False, store=True,
        help="Delivery date expected from vendor. This date respectively defaults to vendor pricelist lead time then today's date.")</pre></details><details><summary id="f-discount">discount <span class="position">@ line 29</span></summary><pre>discount = fields.Float(
        string="Discount (%)",
        compute='_compute_price_unit_and_date_planned_and_name',
        digits='Discount',
        store=True, readonly=False)</pre></details><details><summary id="f-display_type">display_type <span class="position">@ line 77</span></summary><pre>display_type = fields.Selection([
        ('line_section', "Section"),
        ('line_note', "Note")], default=False, help="Technical field for UX purpose.")</pre></details><details><summary id="f-invoice_lines">invoice_lines <span class="position">@ line 53</span></summary><pre>invoice_lines = fields.One2many('account.move.line', 'purchase_line_id', string="Bill Lines", readonly=True, copy=False)</pre></details><details><summary id="f-name">name <span class="position">@ line 19</span></summary><pre>name = fields.Text(
        string='Description', required=True, compute='_compute_price_unit_and_date_planned_and_name', store=True, readonly=False)</pre></details><details><summary id="f-order_id">order_id <span class="position">@ line 48</span></summary><pre>order_id = fields.Many2one('purchase.order', string='Order Reference', index=True, required=True, ondelete='cascade')</pre></details><details><summary id="f-partner_id">partner_id <span class="position">@ line 67</span></summary><pre>partner_id = fields.Many2one('res.partner', related='order_id.partner_id', string='Partner', readonly=True, store=True, index='btree_not_null')</pre></details><details><summary id="f-price_subtotal">price_subtotal <span class="position">@ line 44</span></summary><pre>price_subtotal = fields.Monetary(compute='_compute_amount', string='Subtotal', aggregator=None, store=True)</pre></details><details><summary id="f-price_tax">price_tax <span class="position">@ line 46</span></summary><pre>price_tax = fields.Float(compute='_compute_amount', string='Tax', store=True)</pre></details><details><summary id="f-price_total">price_total <span class="position">@ line 45</span></summary><pre>price_total = fields.Monetary(compute='_compute_amount', string='Total', store=True)</pre></details><details><summary id="f-price_unit">price_unit <span class="position">@ line 39</span></summary><pre>price_unit = fields.Float(
        string='Unit Price', required=True, digits='Product Price', aggregator=None,
        compute="_compute_price_unit_and_date_planned_and_name", readonly=False, store=True)</pre></details><details><summary id="f-price_unit_discounted">price_unit_discounted <span class="position">@ line 42</span></summary><pre>price_unit_discounted = fields.Float('Unit Price (Discounted)', compute='_compute_price_unit_discounted')</pre></details><details><summary id="f-product_id">product_id <span class="position">@ line 37</span></summary><pre>product_id = fields.Many2one('product.product', string='Product', domain=[('purchase_ok', '=', True)], change_default=True, index='btree_not_null')</pre></details><details><summary id="f-product_packaging_id">product_packaging_id <span class="position">@ line 71</span></summary><pre>product_packaging_id = fields.Many2one('product.packaging', string='Packaging', domain="[('purchase', '=', True), ('product_id', '=', product_id)]", check_company=True,
                                           compute="_compute_product_packaging_id", store=True, readonly=False)</pre></details><details><summary id="f-product_packaging_qty">product_packaging_qty <span class="position">@ line 73</span></summary><pre>product_packaging_qty = fields.Float('Packaging Quantity', compute="_compute_product_packaging_qty", store=True, readonly=False)</pre></details><details><summary id="f-product_qty">product_qty <span class="position">@ line 22</span></summary><pre>product_qty = fields.Float(string='Quantity', digits='Product Unit of Measure', required=True,
                               compute='_compute_product_qty', store=True, readonly=False)</pre></details><details><summary id="f-product_type">product_type <span class="position">@ line 38</span></summary><pre>product_type = fields.Selection(related='product_id.detailed_type', readonly=True)</pre></details><details><summary id="f-product_uom">product_uom <span class="position">@ line 35</span></summary><pre>product_uom = fields.Many2one('uom.uom', string='Unit of Measure', domain="[('category_id', '=', product_uom_category_id)]")</pre></details><details><summary id="f-product_uom_category_id">product_uom_category_id <span class="position">@ line 36</span></summary><pre>product_uom_category_id = fields.Many2one(related='product_id.uom_id.category_id')</pre></details><details><summary id="f-product_uom_qty">product_uom_qty <span class="position">@ line 24</span></summary><pre>product_uom_qty = fields.Float(string='Total Quantity', compute='_compute_product_uom_qty', store=True)</pre></details><details><summary id="f-qty_invoiced">qty_invoiced <span class="position">@ line 56</span></summary><pre>qty_invoiced = fields.Float(compute='_compute_qty_invoiced', string="Billed Qty", digits='Product Unit of Measure', store=True)</pre></details><details><summary id="f-qty_received">qty_received <span class="position">@ line 62</span></summary><pre>qty_received = fields.Float("Received Qty", compute='_compute_qty_received', inverse='_inverse_qty_received', compute_sudo=True, store=True, digits='Product Unit of Measure')</pre></details><details><summary id="f-qty_received_manual">qty_received_manual <span class="position">@ line 63</span></summary><pre>qty_received_manual = fields.Float("Manual Received Qty", digits='Product Unit of Measure', copy=False)</pre></details><details><summary id="f-qty_received_method">qty_received_method <span class="position">@ line 58</span></summary><pre>qty_received_method = fields.Selection([('manual', 'Manual')], string="Received Qty Method", compute='_compute_qty_received_method', store=True,
        help="According to product configuration, the received quantity can be automatically computed by mechanism:\n"
             "  - Manual: the quantity is set manually on the line\n"
             "  - Stock Moves: the quantity comes from confirmed pickings\n")</pre></details><details><summary id="f-qty_to_invoice">qty_to_invoice <span class="position">@ line 64</span></summary><pre>qty_to_invoice = fields.Float(compute='_compute_qty_invoiced', string='To Invoice Quantity', store=True, readonly=True,
                                  digits='Product Unit of Measure')</pre></details><details><summary id="f-sequence">sequence <span class="position">@ line 21</span></summary><pre>sequence = fields.Integer(string='Sequence', default=10)</pre></details><details><summary id="f-state">state <span class="position">@ line 51</span></summary><pre>state = fields.Selection(related='order_id.state', store=True)</pre></details><details><summary id="f-tax_calculation_rounding_method">tax_calculation_rounding_method <span class="position">@ line 74</span></summary><pre>tax_calculation_rounding_method = fields.Selection(
        related='company_id.tax_calculation_rounding_method',
        string='Tax calculation rounding method', readonly=True)</pre></details><details><summary id="f-taxes_id">taxes_id <span class="position">@ line 34</span></summary><pre>taxes_id = fields.Many2many('account.tax', string='Taxes', context={'active_test': False})</pre></details><h3>Methods</h3><ul id="m-_compute_tax_id"><li>_compute_tax_id(self) <span class="position">@ line 126</span></li></ul><details><summary id="m-_convert_to_middle_of_day">_convert_to_middle_of_day(self, date) <span class="position">@ line 643</span></summary><pre>Return a datetime which is the noon of the input date(time) according
to order user's time zone, convert to UTC time.</pre></details><details><summary id="m-_convert_to_tax_base_line_dict">_convert_to_tax_base_line_dict(self) <span class="position">@ line 107</span></summary><pre>Convert the current record to a dictionary in order to use the generic taxes computation method
defined on account.tax.

:return: A python dictionary.</pre></details><ul id="m-_get_gross_price_unit"><li>_get_gross_price_unit(self) <span class="position">@ line 437</span></li></ul><ul id="m-_get_invoice_lines"><li>_get_invoice_lines(self) <span class="position">@ line 161</span></li></ul><details><summary id="m-_get_product_catalog_lines_data">_get_product_catalog_lines_data(self) <span class="position">@ line 481</span></summary><pre>Return information about purchase order lines in `self`.

If `self` is empty, this method returns only the default value(s) needed for the product
catalog. In this case, the quantity that equals 0.

Otherwise, it returns a quantity and a price based on the product of the POL(s) and whether
the product is read-only or not.

A product is considered read-only if the order is considered read-only (see
``PurchaseOrder._is_readonly`` for more details) or if `self` contains multiple records
or if it has purchase_line_warn == "block".

Note: This method cannot be called with multiple records that have different products linked.

:raise odoo.exceptions.ValueError: ``len(self.product_id) != 1``
:rtype: dict
:return: A dict with the following structure:
{
'quantity': float,
'price': float,
'readOnly': bool,
'uom': dict,
'purchase_uom': dict,
'packaging': dict,
'warning': String,
}</pre></details><ul id="m-_get_product_purchase_description"><li>_get_product_purchase_description(self, product_lang) <span class="position">@ line 547</span></li></ul><ul id="m-_prepare_account_move_line"><li>_prepare_account_move_line(self, move) <span class="position">@ line 555</span></li></ul><ul id="m-_product_id_change"><li>_product_id_change(self) <span class="position">@ line 287</span></li></ul><details><summary id="m-_suggest_quantity">_suggest_quantity(self) <span class="position">@ line 466</span></summary><pre>Suggest a minimal quantity based on the seller</pre></details><ul id="m-_track_qty_received"><li>_track_qty_received(self, new_qty) <span class="position">@ line 652</span></li></ul><ul id="m-_update_date_planned"><li>_update_date_planned(self, updated_date) <span class="position">@ line 649</span></li></ul><ul id="m-_validate_analytic_distribution"><li>_validate_analytic_distribution(self) <span class="position">@ line 665</span></li></ul><ul id="m-action_add_from_catalog"><li>action_add_from_catalog(self) <span class="position">@ line 451</span></li></ul><ul id="m-action_purchase_history"><li>action_purchase_history(self) <span class="position">@ line 455</span></li></ul><ul id="m-write"><li>write(self, values) <span class="position">@ line 213</span></li></ul><h2>Inherited: odoo/addons/project_purchase/models/purchase_order_line.py</h2><h3>Methods</h3><ul id="m-_compute_analytic_distribution"><li>_compute_analytic_distribution(self) <span class="position">@ line 10</span></li></ul><script src="class.js"></script></body></html>
