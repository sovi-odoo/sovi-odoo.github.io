<!doctype html><html lang="en"><head><meta charset="UTF-8" /><meta name="viewport" content="width=device-width, initial-scale=1.0" /><title>mailing.mailing - odocgen</title><link rel="stylesheet" href="class.css" /></head><body><h1>mailing.mailing</h1><p>Inherited in: odoo/addons/mass_mailing_sms/models/mailing_mailing.py<br/>Inherited in: odoo/addons/mass_mailing_sale/models/mailing_mailing.py<br/>Inherited in: odoo/addons/mass_mailing_sale/models/mailing_mailing.py<br/>Inherited in: odoo/addons/mass_mailing_crm/models/mailing_mailing.py<br/>Inherited in: odoo/addons/mass_mailing_crm/models/mailing_mailing.py<br/>Inherited in: odoo/addons/mass_mailing/models/mailing.py<br/></p><hr/><h2>Inherited: odoo/addons/mass_mailing_sms/models/mailing_mailing.py</h2><h3>Fields</h3><details><summary id="f-ab_testing_mailings_sms_count">ab_testing_mailings_sms_count <span class="position">@ line 55</span></summary><pre>ab_testing_mailings_sms_count = fields.Integer(related="campaign_id.ab_testing_mailings_sms_count")</pre></details><details><summary id="f-ab_testing_sms_winner_selection">ab_testing_sms_winner_selection <span class="position">@ line 52</span></summary><pre>ab_testing_sms_winner_selection = fields.Selection(
        related="campaign_id.ab_testing_sms_winner_selection",
        default="clicks_ratio", readonly=False, copy=True)</pre></details><details><summary id="f-body_plaintext">body_plaintext <span class="position">@ line 39</span></summary><pre>body_plaintext = fields.Text(
        'SMS Body', compute='_compute_body_plaintext',
        store=True, readonly=False)</pre></details><details><summary id="f-mailing_type">mailing_type <span class="position">@ line 24</span></summary><pre>mailing_type = fields.Selection(selection_add=[
        ('sms', 'SMS')
    ], ondelete={'sms': 'set default'})</pre></details><details><summary id="f-sms_allow_unsubscribe">sms_allow_unsubscribe <span class="position">@ line 50</span></summary><pre>sms_allow_unsubscribe = fields.Boolean('Include opt-out link', default=False)</pre></details><details><summary id="f-sms_force_send">sms_force_send <span class="position">@ line 47</span></summary><pre>sms_force_send = fields.Boolean(
        'Send Directly', help='Immediately send the SMS Mailing instead of queuing up. Use at your own risk.')</pre></details><details><summary id="f-sms_has_insufficient_credit">sms_has_insufficient_credit <span class="position">@ line 43</span></summary><pre>sms_has_insufficient_credit = fields.Boolean(
        'Insufficient IAP credits', compute='_compute_sms_has_iap_failure')</pre></details><details><summary id="f-sms_has_unregistered_account">sms_has_unregistered_account <span class="position">@ line 45</span></summary><pre>sms_has_unregistered_account = fields.Boolean(
        'Unregistered IAP account', compute='_compute_sms_has_iap_failure')</pre></details><details><summary id="f-sms_subject">sms_subject <span class="position">@ line 33</span></summary><pre>sms_subject = fields.Char(
        'Title', related='subject',
        readonly=False, translate=False,
        help='For an email, the subject your recipients will see in their inbox.\n'
             'For an SMS, the internal title of the message.')</pre></details><details><summary id="f-sms_template_id">sms_template_id <span class="position">@ line 42</span></summary><pre>sms_template_id = fields.Many2one('sms.template', string='SMS Template', ondelete='set null')</pre></details><h3>Methods</h3><ul id="m-_action_view_traces_filtered"><li>_action_view_traces_filtered(self, view_filter) <span class="position">@ line 132</span></li></ul><ul id="m-_get_ab_testing_description_modifying_fields"><li>_get_ab_testing_description_modifying_fields(self) <span class="position">@ line 321</span></li></ul><ul id="m-_get_ab_testing_description_values"><li>_get_ab_testing_description_values(self) <span class="position">@ line 325</span></li></ul><ul id="m-_get_ab_testing_siblings_mailings"><li>_get_ab_testing_siblings_mailings(self) <span class="position">@ line 346</span></li></ul><ul id="m-_get_ab_testing_winner_selection"><li>_get_ab_testing_winner_selection(self) <span class="position">@ line 334</span></li></ul><ul id="m-_get_default_ab_testing_campaign_values"><li>_get_default_ab_testing_campaign_values(self, values) <span class="position">@ line 352</span></li></ul><ul id="m-_get_default_mailing_domain"><li>_get_default_mailing_domain(self) <span class="position">@ line 300</span></li></ul><details><summary id="m-_get_opt_out_list_sms">_get_opt_out_list_sms(self) <span class="position">@ line 150</span></summary><pre>Give list of opt-outed records, depending on specific model-based
computation if available.

:return list: opt-outed record IDs</pre></details><ul id="m-_get_pretty_mailing_type"><li>_get_pretty_mailing_type(self) <span class="position">@ line 291</span></li></ul><details><summary id="m-_get_seen_list_sms">_get_seen_list_sms(self) <span class="position">@ line 166</span></summary><pre>Returns a set of emails already targeted by current mailing/campaign (no duplicates)</pre></details><details><summary id="m-_prepare_statistics_email_values">_prepare_statistics_email_values(self) <span class="position">@ line 256</span></summary><pre>Return some statistics that will be displayed in the mailing statistics email.

Each item in the returned list will be displayed as a table, with a title and
1, 2 or 3 columns.</pre></details><ul id="m-_send_sms_get_composer_values"><li>_send_sms_get_composer_values(self, res_ids) <span class="position">@ line 222</span></li></ul><ul id="m-action_buy_sms_credits"><li>action_buy_sms_credits(self) <span class="position">@ line 139</span></li></ul><ul id="m-action_retry_failed"><li>action_retry_failed(self) <span class="position">@ line 104</span></li></ul><ul id="m-action_retry_failed_sms"><li>action_retry_failed_sms(self) <span class="position">@ line 110</span></li></ul><ul id="m-action_send_mail"><li>action_send_mail(self, res_ids) <span class="position">@ line 237</span></li></ul><ul id="m-action_send_sms"><li>action_send_sms(self, res_ids) <span class="position">@ line 243</span></li></ul><ul id="m-action_test"><li>action_test(self) <span class="position">@ line 119</span></li></ul><ul id="m-convert_links"><li>convert_links(self) <span class="position">@ line 307</span></li></ul><h2>Inherited: odoo/addons/mass_mailing_sale/models/mailing_mailing.py</h2><h3>Fields</h3><details><summary id="f-sale_invoiced_amount">sale_invoiced_amount <span class="position">@ line 14</span></summary><pre>sale_invoiced_amount = fields.Integer('Invoiced Amount', compute='_compute_sale_invoiced_amount')</pre></details><details><summary id="f-sale_quotation_count">sale_quotation_count <span class="position">@ line 13</span></summary><pre>sale_quotation_count = fields.Integer('Quotation Count', compute='_compute_sale_quotation_count')</pre></details><h3>Methods</h3><ul id="m-_prepare_statistics_email_values"><li>_prepare_statistics_email_values(self) <span class="position">@ line 85</span></li></ul><ul id="m-action_redirect_to_invoiced"><li>action_redirect_to_invoiced(self) <span class="position">@ line 59</span></li></ul><ul id="m-action_redirect_to_quotations"><li>action_redirect_to_quotations(self) <span class="position">@ line 39</span></li></ul><h2>Inherited: odoo/addons/mass_mailing_sale/models/mailing_mailing.py</h2><h3>Fields</h3><details><summary id="f-sale_invoiced_amount">sale_invoiced_amount <span class="position">@ line 14</span></summary><pre>sale_invoiced_amount = fields.Integer('Invoiced Amount', compute='_compute_sale_invoiced_amount')</pre></details><details><summary id="f-sale_quotation_count">sale_quotation_count <span class="position">@ line 13</span></summary><pre>sale_quotation_count = fields.Integer('Quotation Count', compute='_compute_sale_quotation_count')</pre></details><h3>Methods</h3><ul id="m-_prepare_statistics_email_values"><li>_prepare_statistics_email_values(self) <span class="position">@ line 85</span></li></ul><ul id="m-action_redirect_to_invoiced"><li>action_redirect_to_invoiced(self) <span class="position">@ line 59</span></li></ul><ul id="m-action_redirect_to_quotations"><li>action_redirect_to_quotations(self) <span class="position">@ line 39</span></li></ul><h2>Inherited: odoo/addons/mass_mailing_crm/models/mailing_mailing.py</h2><h3>Fields</h3><details><summary id="f-crm_lead_count">crm_lead_count <span class="position">@ line 13</span></summary><pre>crm_lead_count = fields.Integer('Leads/Opportunities Count', compute='_compute_crm_lead_count')</pre></details><details><summary id="f-use_leads">use_leads <span class="position">@ line 12</span></summary><pre>use_leads = fields.Boolean('Use Leads', compute='_compute_use_leads')</pre></details><h3>Methods</h3><ul id="m-_compute_crm_lead_count"><li>_compute_crm_lead_count(self) <span class="position">@ line 18</span></li></ul><ul id="m-_compute_use_leads"><li>_compute_use_leads(self) <span class="position">@ line 15</span></li></ul><ul id="m-_prepare_statistics_email_values"><li>_prepare_statistics_email_values(self) <span class="position">@ line 48</span></li></ul><ul id="m-action_redirect_to_leads_and_opportunities"><li>action_redirect_to_leads_and_opportunities(self) <span class="position">@ line 27</span></li></ul><h2>Inherited: odoo/addons/mass_mailing_crm/models/mailing_mailing.py</h2><h3>Fields</h3><details><summary id="f-crm_lead_count">crm_lead_count <span class="position">@ line 13</span></summary><pre>crm_lead_count = fields.Integer('Leads/Opportunities Count', compute='_compute_crm_lead_count')</pre></details><details><summary id="f-use_leads">use_leads <span class="position">@ line 12</span></summary><pre>use_leads = fields.Boolean('Use Leads', compute='_compute_use_leads')</pre></details><h3>Methods</h3><ul id="m-_compute_crm_lead_count"><li>_compute_crm_lead_count(self) <span class="position">@ line 18</span></li></ul><ul id="m-_compute_use_leads"><li>_compute_use_leads(self) <span class="position">@ line 15</span></li></ul><ul id="m-_prepare_statistics_email_values"><li>_prepare_statistics_email_values(self) <span class="position">@ line 48</span></li></ul><ul id="m-action_redirect_to_leads_and_opportunities"><li>action_redirect_to_leads_and_opportunities(self) <span class="position">@ line 27</span></li></ul><h2>Inherited: odoo/addons/mass_mailing/models/mailing.py</h2><h3>Fields</h3><details><summary id="f-ab_testing_completed">ab_testing_completed <span class="position">@ line 186</span></summary><pre>ab_testing_completed = fields.Boolean(related='campaign_id.ab_testing_completed')</pre></details><details><summary id="f-ab_testing_description">ab_testing_description <span class="position">@ line 187</span></summary><pre>ab_testing_description = fields.Html('A/B Testing Description', compute="_compute_ab_testing_description")</pre></details><details><summary id="f-ab_testing_enabled">ab_testing_enabled <span class="position">@ line 188</span></summary><pre>ab_testing_enabled = fields.Boolean(
        string='Allow A/B Testing', default=False,
        help='If checked, recipients will be mailed only once for the whole campaign. '
             'This lets you send different mailings to randomly selected recipients and test '
             'the effectiveness of the mailings, without causing duplicate messages.')</pre></details><details><summary id="f-ab_testing_is_winner_mailing">ab_testing_is_winner_mailing <span class="position">@ line 193</span></summary><pre>ab_testing_is_winner_mailing = fields.Boolean('Is the Winner of its Campaign', compute='_compute_ab_testing_is_winner_mailing')</pre></details><details><summary id="f-ab_testing_mailings_count">ab_testing_mailings_count <span class="position">@ line 194</span></summary><pre>ab_testing_mailings_count = fields.Integer(related="campaign_id.ab_testing_mailings_count")</pre></details><details><summary id="f-ab_testing_pc">ab_testing_pc <span class="position">@ line 195</span></summary><pre>ab_testing_pc = fields.Integer(
        string='A/B Testing percentage',
        default=10,
        help='Percentage of the contacts that will be mailed. Recipients will be chosen randomly.')</pre></details><details><summary id="f-ab_testing_schedule_datetime">ab_testing_schedule_datetime <span class="position">@ line 199</span></summary><pre>ab_testing_schedule_datetime = fields.Datetime(
        related="campaign_id.ab_testing_schedule_datetime", readonly=False,
        default=lambda self: fields.Datetime.now() + relativedelta(days=1))</pre></details><details><summary id="f-ab_testing_winner_selection">ab_testing_winner_selection <span class="position">@ line 202</span></summary><pre>ab_testing_winner_selection = fields.Selection(
        related="campaign_id.ab_testing_winner_selection", readonly=False,
        default="opened_ratio",
        copy=True)</pre></details><details><summary id="f-active">active <span class="position">@ line 82</span></summary><pre>active = fields.Boolean(default=True, tracking=True)</pre></details><details><summary id="f-attachment_ids">attachment_ids <span class="position">@ line 120</span></summary><pre>attachment_ids = fields.Many2many(
        'ir.attachment', 'mass_mailing_ir_attachments_rel',
        'mass_mailing_id', 'attachment_id', string='Attachments')</pre></details><details><summary id="f-body_arch">body_arch <span class="position">@ line 115</span></summary><pre>body_arch = fields.Html(string='Body', translate=False, sanitize=False)</pre></details><details><summary id="f-body_html">body_html <span class="position">@ line 116</span></summary><pre>body_html = fields.Html(
        string='Body converted to be sent by mail', sanitize=False,
        render_engine='qweb', render_options={'post_process': True})</pre></details><details><summary id="f-bounced">bounced <span class="position">@ line 221</span></summary><pre>bounced = fields.Integer(compute="_compute_statistics")</pre></details><details><summary id="f-bounced_ratio">bounced_ratio <span class="position">@ line 226</span></summary><pre>bounced_ratio = fields.Float(compute="_compute_statistics", string='Bounced Ratio')</pre></details><details><summary id="f-calendar_date">calendar_date <span class="position">@ line 109</span></summary><pre>calendar_date = fields.Datetime(
        'Calendar Date',
        compute='_compute_calendar_date', store=True,
        copy=False,
        help="Date at which the mailing was or will be sent.")</pre></details><details><summary id="f-campaign_id">campaign_id <span class="position">@ line 124</span></summary><pre>campaign_id = fields.Many2one('utm.campaign', string='UTM Campaign', index=True, ondelete='set null')</pre></details><details><summary id="f-canceled">canceled <span class="position">@ line 213</span></summary><pre>canceled = fields.Integer(compute="_compute_statistics")</pre></details><details><summary id="f-clicked">clicked <span class="position">@ line 219</span></summary><pre>clicked = fields.Integer(compute="_compute_statistics")</pre></details><details><summary id="f-clicks_ratio">clicks_ratio <span class="position">@ line 227</span></summary><pre>clicks_ratio = fields.Float(compute="_compute_clicks_ratio", string="Number of Clicks")</pre></details><details><summary id="f-color">color <span class="position">@ line 137</span></summary><pre>color = fields.Integer(string='Color Index')</pre></details><details><summary id="f-contact_list_ids">contact_list_ids <span class="position">@ line 177</span></summary><pre>contact_list_ids = fields.Many2many('mailing.list', 'mail_mass_mailing_list_rel', string='Mailing Lists')</pre></details><details><summary id="f-delivered">delivered <span class="position">@ line 217</span></summary><pre>delivered = fields.Integer(compute="_compute_statistics")</pre></details><details><summary id="f-email_from">email_from <span class="position">@ line 91</span></summary><pre>email_from = fields.Char(
        string='Send From',
        compute='_compute_email_from', readonly=False, required=True, store=True, precompute=True)</pre></details><details><summary id="f-expected">expected <span class="position">@ line 212</span></summary><pre>expected = fields.Integer(compute="_compute_statistics")</pre></details><details><summary id="f-failed">failed <span class="position">@ line 222</span></summary><pre>failed = fields.Integer(compute="_compute_statistics")</pre></details><details><summary id="f-favorite">favorite <span class="position">@ line 94</span></summary><pre>favorite = fields.Boolean('Favorite', copy=False, tracking=True)</pre></details><details><summary id="f-favorite_date">favorite_date <span class="position">@ line 95</span></summary><pre>favorite_date = fields.Datetime(
        'Favorite Date',
        compute='_compute_favorite_date', store=True,
        copy=False,
        help='When this mailing was added in the favorites')</pre></details><details><summary id="f-is_ab_test_sent">is_ab_test_sent <span class="position">@ line 206</span></summary><pre>is_ab_test_sent = fields.Boolean(compute="_compute_is_ab_test_sent")</pre></details><details><summary id="f-is_body_empty">is_body_empty <span class="position">@ line 119</span></summary><pre>is_body_empty = fields.Boolean(compute="_compute_is_body_empty")</pre></details><details><summary id="f-keep_archives">keep_archives <span class="position">@ line 123</span></summary><pre>keep_archives = fields.Boolean(string='Keep Archives')</pre></details><details><summary id="f-kpi_mail_required">kpi_mail_required <span class="position">@ line 207</span></summary><pre>kpi_mail_required = fields.Boolean('KPI mail required', copy=False)</pre></details><details><summary id="f-link_trackers_count">link_trackers_count <span class="position">@ line 228</span></summary><pre>link_trackers_count = fields.Integer(compute="_compute_link_trackers_count", string="Link Trackers Count")</pre></details><details><summary id="f-mail_server_available">mail_server_available <span class="position">@ line 171</span></summary><pre>mail_server_available = fields.Boolean(
        compute='_compute_mail_server_available',
        help="Technical field used to know if the user has activated the outgoing mail server option in the settings")</pre></details><details><summary id="f-mail_server_id">mail_server_id <span class="position">@ line 174</span></summary><pre>mail_server_id = fields.Many2one('ir.mail_server', string='Mail Server',
        default=_get_default_mail_server_id,
        help="Use a specific mail server in priority. Otherwise Odoo relies on the first outgoing mail server available (based on their sequencing) as it does for normal mails.")</pre></details><details><summary id="f-mailing_domain">mailing_domain <span class="position">@ line 168</span></summary><pre>mailing_domain = fields.Char(
        string='Domain',
        compute='_compute_mailing_domain', readonly=False, store=True)</pre></details><details><summary id="f-mailing_filter_count">mailing_filter_count <span class="position">@ line 184</span></summary><pre>mailing_filter_count = fields.Integer('# Favorite Filters', compute='_compute_mailing_filter_count')</pre></details><details><summary id="f-mailing_filter_domain">mailing_filter_domain <span class="position">@ line 183</span></summary><pre>mailing_filter_domain = fields.Char('Favorite filter domain', related='mailing_filter_id.mailing_domain')</pre></details><details><summary id="f-mailing_filter_id">mailing_filter_id <span class="position">@ line 179</span></summary><pre>mailing_filter_id = fields.Many2one(
        'mailing.filter', string='Favorite Filter',
        compute='_compute_mailing_filter_id', readonly=False, store=True,
        domain="[('mailing_model_name', '=', mailing_model_name)]")</pre></details><details><summary id="f-mailing_model_id">mailing_model_id <span class="position">@ line 157</span></summary><pre>mailing_model_id = fields.Many2one(
        'ir.model', string='Recipients Model',
        ondelete='cascade', required=True,
        domain=[('is_mailing_enabled', '=', True)],
        default=lambda self: self.env.ref('mass_mailing.model_mailing_list').id)</pre></details><details><summary id="f-mailing_model_name">mailing_model_name <span class="position">@ line 162</span></summary><pre>mailing_model_name = fields.Char(
        string='Recipients Model Name',
        related='mailing_model_id.model', readonly=True, related_sudo=True)</pre></details><details><summary id="f-mailing_model_real">mailing_model_real <span class="position">@ line 155</span></summary><pre>mailing_model_real = fields.Char(
        string='Recipients Real Model', compute='_compute_mailing_model_real')</pre></details><details><summary id="f-mailing_on_mailing_list">mailing_on_mailing_list <span class="position">@ line 165</span></summary><pre>mailing_on_mailing_list = fields.Boolean(
        string='Based on Mailing Lists',
        compute='_compute_mailing_on_mailing_list')</pre></details><details><summary id="f-mailing_trace_ids">mailing_trace_ids <span class="position">@ line 209</span></summary><pre>mailing_trace_ids = fields.One2many('mailing.trace', 'mass_mailing_id', string='Emails Statistics')</pre></details><details><summary id="f-mailing_type">mailing_type <span class="position">@ line 143</span></summary><pre>mailing_type = fields.Selection([('mail', 'Email')], string="Mailing Type", default="mail", required=True)</pre></details><details><summary id="f-mailing_type_description">mailing_type_description <span class="position">@ line 144</span></summary><pre>mailing_type_description = fields.Char('Mailing Type Description', compute="_compute_mailing_type_description")</pre></details><details><summary id="f-medium_id">medium_id <span class="position">@ line 125</span></summary><pre>medium_id = fields.Many2one(
        'utm.medium', string='Medium',
        compute='_compute_medium_id', readonly=False, store=True,
        ondelete='restrict',
        help="UTM Medium: delivery method (email, sms, ...)")</pre></details><details><summary id="f-next_departure">next_departure <span class="position">@ line 229</span></summary><pre>next_departure = fields.Datetime(compute="_compute_next_departure", string='Scheduled date')</pre></details><details><summary id="f-next_departure_is_past">next_departure_is_past <span class="position">@ line 231</span></summary><pre>next_departure_is_past = fields.Boolean(compute="_compute_next_departure")</pre></details><details><summary id="f-opened">opened <span class="position">@ line 218</span></summary><pre>opened = fields.Integer(compute="_compute_statistics")</pre></details><details><summary id="f-opened_ratio">opened_ratio <span class="position">@ line 224</span></summary><pre>opened_ratio = fields.Float(compute="_compute_statistics", string='Opened Ratio')</pre></details><details><summary id="f-pending">pending <span class="position">@ line 216</span></summary><pre>pending = fields.Integer(compute="_compute_statistics")</pre></details><details><summary id="f-preview">preview <span class="position">@ line 85</span></summary><pre>preview = fields.Char(
        'Preview', translate=False,
        render_engine='inline_template', render_options={'post_process': True},
        help='Catchy preview sentence that encourages recipients to open this email.\n'
             'In most inboxes, this is displayed next to the subject.\n'
             'Keep it empty if you prefer the first characters of your email content to appear instead.')</pre></details><details><summary id="f-process">process <span class="position">@ line 215</span></summary><pre>process = fields.Integer(compute="_compute_statistics")</pre></details><details><summary id="f-received_ratio">received_ratio <span class="position">@ line 223</span></summary><pre>received_ratio = fields.Float(compute="_compute_statistics", string='Received Ratio')</pre></details><details><summary id="f-replied">replied <span class="position">@ line 220</span></summary><pre>replied = fields.Integer(compute="_compute_statistics")</pre></details><details><summary id="f-replied_ratio">replied_ratio <span class="position">@ line 225</span></summary><pre>replied_ratio = fields.Float(compute="_compute_statistics", string='Replied Ratio')</pre></details><details><summary id="f-reply_to">reply_to <span class="position">@ line 150</span></summary><pre>reply_to = fields.Char(
        string='Reply To',
        compute='_compute_reply_to', readonly=False, store=True,
        help='Preferred Reply-To Address')</pre></details><details><summary id="f-reply_to_mode">reply_to_mode <span class="position">@ line 145</span></summary><pre>reply_to_mode = fields.Selection(
        [('update', 'Recipient Followers'), ('new', 'Specified Email Address')],
        string='Reply-To Mode',
        compute='_compute_reply_to_mode', readonly=False, store=True,
        help='Thread: replies go to target document. Email: replies are routed to a given email.')</pre></details><details><summary id="f-schedule_date">schedule_date <span class="position">@ line 105</span></summary><pre>schedule_date = fields.Datetime(
        string='Scheduled for',
        compute='_compute_schedule_date', readonly=False, store=True,
        copy=True, tracking=True)</pre></details><details><summary id="f-schedule_type">schedule_type <span class="position">@ line 101</span></summary><pre>schedule_type = fields.Selection(
        [('now', 'Send now'), ('scheduled', 'Send on')],
        string='Schedule', default='now',
        readonly=False, required=True)</pre></details><details><summary id="f-scheduled">scheduled <span class="position">@ line 211</span></summary><pre>scheduled = fields.Integer(compute="_compute_statistics")</pre></details><details><summary id="f-sent">sent <span class="position">@ line 214</span></summary><pre>sent = fields.Integer(compute="_compute_statistics")</pre></details><details><summary id="f-sent_date">sent_date <span class="position">@ line 100</span></summary><pre>sent_date = fields.Datetime(string='Sent Date', copy=False)</pre></details><details><summary id="f-state">state <span class="position">@ line 130</span></summary><pre>state = fields.Selection(
        [('draft', 'Draft'), ('in_queue', 'In Queue'),
         ('sending', 'Sending'), ('done', 'Sent')],
        string='Status',
        default='draft', required=True,
        copy=False, tracking=True,
        group_expand=True)</pre></details><details><summary id="f-subject">subject <span class="position">@ line 83</span></summary><pre>subject = fields.Char(
        'Subject', required=True, translate=False)</pre></details><details><summary id="f-total">total <span class="position">@ line 210</span></summary><pre>total = fields.Integer(compute="_compute_total")</pre></details><details><summary id="f-user_id">user_id <span class="position">@ line 138</span></summary><pre>user_id = fields.Many2one(
        'res.users', string='Responsible',
        tracking=True,
        default=lambda self: self.env.user)</pre></details><details><summary id="f-warning_message">warning_message <span class="position">@ line 232</span></summary><pre>warning_message = fields.Char(
        'Warning Message', compute='_compute_warning_message',
        help='Warning message displayed in the mailing form view')</pre></details><h3>Methods</h3><details><summary id="m-_action_send_statistics">_action_send_statistics(self) <span class="position">@ line 1156</span></summary><pre>Send an email to the responsible of each finished mailing with the statistics.</pre></details><ul id="m-_action_view_documents_filtered"><li>_action_view_documents_filtered(self, view_filter) <span class="position">@ line 733</span></li></ul><ul id="m-_action_view_traces_filtered"><li>_action_view_traces_filtered(self, view_filter) <span class="position">@ line 706</span></li></ul><ul id="m-_compute_clicks_ratio"><li>_compute_clicks_ratio(self) <span class="position">@ line 287</span></li></ul><ul id="m-_compute_link_trackers_count"><li>_compute_link_trackers_count(self) <span class="position">@ line 367</span></li></ul><ul id="m-_compute_mail_server_available"><li>_compute_mail_server_available(self) <span class="position">@ line 474</span></li></ul><details><summary id="m-_compute_statistics">_compute_statistics(self) <span class="position">@ line 301</span></summary><pre>Compute statistics of the mass mailing</pre></details><ul id="m-_compute_total"><li>_compute_total(self) <span class="position">@ line 280</span></li></ul><details><summary id="m-_convert_inline_images_to_urls">_convert_inline_images_to_urls(self, html_content) <span class="position">@ line 1299</span></summary><pre>Find inline base64 encoded images, make an attachement out of
them and replace the inline image with an url to the attachement.
Find VML v:image elements, crop their source images, make an attachement
out of them and replace their source with an url to the attachement.</pre></details><details><summary id="m-_create_ab_testing_utm_campaigns">_create_ab_testing_utm_campaigns(self) <span class="position">@ line 551</span></summary><pre>Creates the A/B test campaigns for the mailings that do not have campaign set already</pre></details><ul id="m-_create_attachments_from_inline_images"><li>_create_attachments_from_inline_images(self, b64images) <span class="position">@ line 1369</span></li></ul><ul id="m-_fix_attachment_ownership"><li>_fix_attachment_ownership(self) <span class="position">@ line 559</span></li></ul><details><summary id="m-_generate_mailing_recipient_token">_generate_mailing_recipient_token(self, document_id, email) <span class="position">@ line 1461</span></summary><pre>Generate a secure token for a given mailing and recipient (based on
their email). This allows notably to unsubscribe from the mailing or
to blacklist their email entirely without need of a user account.

:param int document_id: ID of the business document on which mailing
is performed;
:param str email: recipient email, used to unsubscribe / blacklist;</pre></details><details><summary id="m-_generate_mailing_report_token">_generate_mailing_report_token(self, user_id) <span class="position">@ line 1290</span></summary><pre>Generate a secure token for this user. It allows to opt out from
mailing reports while keeping some security in that process.</pre></details><ul id="m-_get_ab_testing_description_modifying_fields"><li>_get_ab_testing_description_modifying_fields(self) <span class="position">@ line 505</span></li></ul><ul id="m-_get_ab_testing_description_values"><li>_get_ab_testing_description_values(self) <span class="position">@ line 886</span></li></ul><ul id="m-_get_ab_testing_siblings_mailings"><li>_get_ab_testing_siblings_mailings(self) <span class="position">@ line 897</span></li></ul><ul id="m-_get_ab_testing_winner_selection"><li>_get_ab_testing_winner_selection(self) <span class="position">@ line 900</span></li></ul><ul id="m-_get_default_ab_testing_campaign_values"><li>_get_default_ab_testing_campaign_values(self, values) <span class="position">@ line 909</span></li></ul><ul id="m-_get_default_mailing_domain"><li>_get_default_mailing_domain(self) <span class="position">@ line 1408</span></li></ul><ul id="m-_get_image_by_url"><li>_get_image_by_url(self, url, session) <span class="position">@ line 1418</span></li></ul><ul id="m-_get_link_tracker_values"><li>_get_link_tracker_values(self) <span class="position">@ line 941</span></li></ul><details><summary id="m-_get_mass_mailing_context">_get_mass_mailing_context(self) <span class="position">@ line 988</span></summary><pre>Returns extra context items with pre-filled blacklist and seen list for massmailing</pre></details><details><summary id="m-_get_opt_out_list">_get_opt_out_list(self) <span class="position">@ line 923</span></summary><pre>Give list of opt-outed emails, depending on specific model-based
computation if available.

:return list: opt-outed emails, preferably normalized (aka not records)</pre></details><ul id="m-_get_pretty_mailing_type"><li>_get_pretty_mailing_type(self) <span class="position">@ line 1287</span></li></ul><ul id="m-_get_recipients"><li>_get_recipients(self) <span class="position">@ line 994</span></li></ul><ul id="m-_get_remaining_recipients"><li>_get_remaining_recipients(self) <span class="position">@ line 1014</span></li></ul><details><summary id="m-_get_seen_list">_get_seen_list(self) <span class="position">@ line 953</span></summary><pre>Returns a set of emails already targeted by current mailing/campaign (no duplicates)</pre></details><ul id="m-_get_seen_list_extra"><li>_get_seen_list_extra(self) <span class="position">@ line 985</span></li></ul><ul id="m-_get_unsubscribe_url"><li>_get_unsubscribe_url(self, email_to, res_id) <span class="position">@ line 1028</span></li></ul><ul id="m-_get_view_url"><li>_get_view_url(self, email_to, res_id) <span class="position">@ line 1041</span></li></ul><ul id="m-_parse_mailing_domain"><li>_parse_mailing_domain(self) <span class="position">@ line 1453</span></li></ul><details><summary id="m-_prepare_statistics_email_values">_prepare_statistics_email_values(self) <span class="position">@ line 1219</span></summary><pre>Return some statistics that will be displayed in the mailing statistics email.

Each item in the returned list will be displayed as a table, with a title and
1, 2 or 3 columns.</pre></details><ul id="m-action_cancel"><li>action_cancel(self) <span class="position">@ line 661</span></li></ul><ul id="m-action_compare_versions"><li>action_compare_versions(self) <span class="position">@ line 831</span></li></ul><ul id="m-action_duplicate"><li>action_duplicate(self) <span class="position">@ line 614</span></li></ul><ul id="m-action_launch"><li>action_launch(self) <span class="position">@ line 638</span></li></ul><ul id="m-action_put_in_queue"><li>action_put_in_queue(self) <span class="position">@ line 653</span></li></ul><ul id="m-action_reload"><li>action_reload(self) <span class="position">@ line 642</span></li></ul><details><summary id="m-action_remove_favorite">action_remove_favorite(self) <span class="position">@ line 596</span></summary><pre>Remove the current mailing from the favorites list.</pre></details><ul id="m-action_retry_failed"><li>action_retry_failed(self) <span class="position">@ line 664</span></li></ul><ul id="m-action_schedule"><li>action_schedule(self) <span class="position">@ line 645</span></li></ul><ul id="m-action_select_as_winner"><li>action_select_as_winner(self) <span class="position">@ line 872</span></li></ul><ul id="m-action_send_mail"><li>action_send_mail(self, res_ids) <span class="position">@ line 1054</span></li></ul><details><summary id="m-action_send_winner_mailing">action_send_winner_mailing(self) <span class="position">@ line 847</span></summary><pre>Send the winner mailing based on the winner selection field.
This action is used in 2 cases:
- When the user clicks on a button to send the winner mailing. There is only one mailing in self
- When the cron is executed to send winner mailing based on the A/B testing schedule datetime. In this
case 'self' contains all the mailing for the campaigns so we just need to take the first to determine the
winner.
If the winner mailing is computed automatically, we sudo the mailings of the campaign in order to sort correctly
the mailings based on the selection that can be used with sub-modules like CRM and Sales</pre></details><details><summary id="m-action_set_favorite">action_set_favorite(self) <span class="position">@ line 578</span></summary><pre>Add the current mailing in the favorites list.</pre></details><ul id="m-action_test"><li>action_test(self) <span class="position">@ line 626</span></li></ul><ul id="m-action_view_bounced"><li>action_view_bounced(self) <span class="position">@ line 727</span></li></ul><ul id="m-action_view_clicked"><li>action_view_clicked(self) <span class="position">@ line 718</span></li></ul><ul id="m-action_view_delivered"><li>action_view_delivered(self) <span class="position">@ line 730</span></li></ul><ul id="m-action_view_link_trackers"><li>action_view_link_trackers(self) <span class="position">@ line 673</span></li></ul><details><summary id="m-action_view_mailing_contacts">action_view_mailing_contacts(self) <span class="position">@ line 784</span></summary><pre>Show the mailing contacts who are in a mailing list selected for this mailing.</pre></details><ul id="m-action_view_opened"><li>action_view_opened(self) <span class="position">@ line 721</span></li></ul><ul id="m-action_view_replied"><li>action_view_replied(self) <span class="position">@ line 724</span></li></ul><ul id="m-action_view_traces_canceled"><li>action_view_traces_canceled(self) <span class="position">@ line 694</span></li></ul><ul id="m-action_view_traces_failed"><li>action_view_traces_failed(self) <span class="position">@ line 697</span></li></ul><ul id="m-action_view_traces_process"><li>action_view_traces_process(self) <span class="position">@ line 700</span></li></ul><ul id="m-action_view_traces_scheduled"><li>action_view_traces_scheduled(self) <span class="position">@ line 691</span></li></ul><ul id="m-action_view_traces_sent"><li>action_view_traces_sent(self) <span class="position">@ line 703</span></li></ul><ul id="m-convert_links"><li>convert_links(self) <span class="position">@ line 1105</span></li></ul><ul id="m-copy_data"><li>copy_data(self, default) <span class="position">@ line 564</span></li></ul><ul id="m-write"><li>write(self, values) <span class="position">@ line 530</span></li></ul><script src="class.js"></script></body></html>
