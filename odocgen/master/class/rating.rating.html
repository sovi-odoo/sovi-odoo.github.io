<!doctype html><html lang="en"><head><meta charset="UTF-8" /><meta name="viewport" content="width=device-width, initial-scale=1.0" /><title>rating.rating - odocgen</title><link rel="stylesheet" href="class.css" /></head><body><h1>rating.rating</h1><p>Originally defined in: odoo/addons/rating/models/rating.py</p><p>Inherited in: odoo/addons/portal_rating/models/rating_rating.py<br/>Inherited in: odoo/addons/im_livechat/models/rating_rating.py<br/></p><hr/><h2>Original: odoo/addons/rating/models/rating.py</h2><h3>Fields</h3><details><summary id="f-access_token">access_token <span class="position">@ line 52</span></summary><pre>access_token = fields.Char('Security Token', default=_default_access_token)</pre></details><details><summary id="f-consumed">consumed <span class="position">@ line 53</span></summary><pre>consumed = fields.Boolean(string="Filled Rating")</pre></details><details><summary id="f-create_date">create_date <span class="position">@ line 25</span></summary><pre>create_date = fields.Datetime(string="Submitted on")</pre></details><details><summary id="f-feedback">feedback <span class="position">@ line 47</span></summary><pre>feedback = fields.Text('Comment')</pre></details><details><summary id="f-is_internal">is_internal <span class="position">@ line 51</span></summary><pre>is_internal = fields.Boolean('Visible Internally Only', readonly=False, related='message_id.is_internal', store=True)</pre></details><details><summary id="f-message_id">message_id <span class="position">@ line 48</span></summary><pre>message_id = fields.Many2one(
        'mail.message', string="Message",
        index=True, ondelete='cascade')</pre></details><details><summary id="f-parent_ref">parent_ref <span class="position">@ line 37</span></summary><pre>parent_ref = fields.Reference(
        string='Parent Ref', selection='_selection_target_model',
        compute='_compute_parent_ref', readonly=True)</pre></details><details><summary id="f-parent_res_id">parent_res_id <span class="position">@ line 36</span></summary><pre>parent_res_id = fields.Integer('Parent Document', index=True)</pre></details><details><summary id="f-parent_res_model">parent_res_model <span class="position">@ line 35</span></summary><pre>parent_res_model = fields.Char('Parent Document Model', store=True, related='parent_res_model_id.model', index=True, readonly=False)</pre></details><details><summary id="f-parent_res_model_id">parent_res_model_id <span class="position">@ line 34</span></summary><pre>parent_res_model_id = fields.Many2one('ir.model', 'Parent Related Document Model', index=True, ondelete='cascade')</pre></details><details><summary id="f-parent_res_name">parent_res_name <span class="position">@ line 33</span></summary><pre>parent_res_name = fields.Char('Parent Document Name', compute='_compute_parent_res_name', store=True)</pre></details><details><summary id="f-partner_id">partner_id <span class="position">@ line 42</span></summary><pre>partner_id = fields.Many2one('res.partner', string='Customer')</pre></details><details><summary id="f-rated_partner_id">rated_partner_id <span class="position">@ line 40</span></summary><pre>rated_partner_id = fields.Many2one('res.partner', string="Rated Operator")</pre></details><details><summary id="f-rated_partner_name">rated_partner_name <span class="position">@ line 41</span></summary><pre>rated_partner_name = fields.Char(related="rated_partner_id.name")</pre></details><details><summary id="f-rating">rating <span class="position">@ line 43</span></summary><pre>rating = fields.Float(string="Rating Value", aggregator="avg", default=0)</pre></details><details><summary id="f-rating_image">rating_image <span class="position">@ line 44</span></summary><pre>rating_image = fields.Binary('Image', compute='_compute_rating_image')</pre></details><details><summary id="f-rating_image_url">rating_image_url <span class="position">@ line 45</span></summary><pre>rating_image_url = fields.Char('Image URL', compute='_compute_rating_image')</pre></details><details><summary id="f-rating_text">rating_text <span class="position">@ line 46</span></summary><pre>rating_text = fields.Selection(rating_data.RATING_TEXT, string='Rating', store=True, compute='_compute_rating_text', readonly=True)</pre></details><details><summary id="f-res_id">res_id <span class="position">@ line 29</span></summary><pre>res_id = fields.Many2oneReference(string='Document', model_field='res_model', required=True, index=True)</pre></details><details><summary id="f-res_model">res_model <span class="position">@ line 28</span></summary><pre>res_model = fields.Char(string='Document Model', related='res_model_id.model', store=True, index=True, readonly=True)</pre></details><details><summary id="f-res_model_id">res_model_id <span class="position">@ line 27</span></summary><pre>res_model_id = fields.Many2one('ir.model', 'Related Document Model', index=True, ondelete='cascade')</pre></details><details><summary id="f-res_name">res_name <span class="position">@ line 26</span></summary><pre>res_name = fields.Char(string='Resource name', compute='_compute_res_name', store=True)</pre></details><details><summary id="f-resource_ref">resource_ref <span class="position">@ line 30</span></summary><pre>resource_ref = fields.Reference(
        string='Resource Ref', selection='_selection_target_model',
        compute='_compute_resource_ref', readonly=True)</pre></details><h3>Methods</h3><details><summary id="m-_classify_by_model">_classify_by_model(self) <span class="position">@ line 175</span></summary><pre>To ease batch computation of various ratings related methods they
are classified by model. Ratings not linked to a valid record through
res_model / res_id are ignored.

:return dict: for each model having at least one rating in self, have
a sub-dict containing
* ratings: ratings related to that model;
* record IDs: records linked to the ratings of that model, in same
order;</pre></details><details><summary id="m-_find_parent_data">_find_parent_data(self, values) <span class="position">@ line 133</span></summary><pre>Determine the parent res_model/res_id, based on the values to create or write</pre></details><ul id="m-_get_rating_image_filename"><li>_get_rating_image_filename(self) <span class="position">@ line 90</span></li></ul><ul id="m-action_open_rated_object"><li>action_open_rated_object(self) <span class="position">@ line 162</span></li></ul><ul id="m-reset"><li>reset(self) <span class="position">@ line 153</span></li></ul><ul id="m-unlink"><li>unlink(self) <span class="position">@ line 128</span></li></ul><ul id="m-write"><li>write(self, values) <span class="position">@ line 123</span></li></ul><h2>Inherited: odoo/addons/portal_rating/models/rating_rating.py</h2><h3>Fields</h3><details><summary id="f-publisher_comment">publisher_comment <span class="position">@ line 10</span></summary><pre>publisher_comment = fields.Text("Publisher comment")</pre></details><details><summary id="f-publisher_datetime">publisher_datetime <span class="position">@ line 14</span></summary><pre>publisher_datetime = fields.Datetime("Commented on", readonly=True)</pre></details><details><summary id="f-publisher_id">publisher_id <span class="position">@ line 11</span></summary><pre>publisher_id = fields.Many2one('res.partner', 'Commented by',
                                   ondelete='set null', readonly=True,
                                   index='btree_not_null')</pre></details><h3>Methods</h3><details><summary id="m-_check_synchronize_publisher_values">_check_synchronize_publisher_values(self) <span class="position">@ line 29</span></summary><pre>Either current user is a member of website restricted editor group
(done here by fetching the group record then using has_group, as it may
not be defined and we do not want to make a complete bridge module just
for that). Either write access on document is granted.</pre></details><details><summary id="m-_synchronize_publisher_values">_synchronize_publisher_values(self, values) <span class="position">@ line 47</span></summary><pre>Force publisher partner and date if not given in order to have
coherent values. Those fields are readonly as they are not meant
to be modified manually, behaving like a tracking.</pre></details><ul id="m-write"><li>write(self, values) <span class="position">@ line 25</span></li></ul><h2>Inherited: odoo/addons/im_livechat/models/rating_rating.py</h2><h3>Methods</h3><ul id="m-action_open_rated_object"><li>action_open_rated_object(self) <span class="position">@ line 22</span></li></ul><script src="class.js"></script></body></html>
