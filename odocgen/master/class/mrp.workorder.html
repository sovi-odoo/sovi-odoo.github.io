<!doctype html><html lang="en"><head><meta charset="UTF-8" /><meta name="viewport" content="width=device-width, initial-scale=1.0" /><title>mrp.workorder - odocgen</title><link rel="stylesheet" href="class.css" /></head><body><h1>mrp.workorder</h1><p>Originally defined in: odoo/addons/mrp/models/mrp_workorder.py</p><p>Inherited in: odoo/addons/mrp_account/models/mrp_workorder.py<br/></p><hr/><h2>Original: odoo/addons/mrp/models/mrp_workorder.py</h2><h3>Fields</h3><details><summary id="f-allow_workorder_dependencies">allow_workorder_dependencies <span class="position">@ line 138</span></summary><pre>allow_workorder_dependencies = fields.Boolean(related='production_id.allow_workorder_dependencies')</pre></details><details><summary id="f-barcode">barcode <span class="position">@ line 27</span></summary><pre>barcode = fields.Char(compute='_compute_barcode', store=True)</pre></details><details><summary id="f-blocked_by_workorder_ids">blocked_by_workorder_ids <span class="position">@ line 139</span></summary><pre>blocked_by_workorder_ids = fields.Many2many('mrp.workorder', relation="mrp_workorder_dependencies_rel",
                                     column1="workorder_id", column2="blocked_by_id", string="Blocked By",
                                     domain="[('allow_workorder_dependencies', '=', True), ('id', '!=', id), ('production_id', '=', production_id)]",
                                     copy=False)</pre></details><details><summary id="f-company_id">company_id <span class="position">@ line 45</span></summary><pre>company_id = fields.Many2one(related='production_id.company_id')</pre></details><details><summary id="f-consumption">consumption <span class="position">@ line 134</span></summary><pre>consumption = fields.Selection(related='production_id.consumption')</pre></details><details><summary id="f-costs_hour">costs_hour <span class="position">@ line 124</span></summary><pre>costs_hour = fields.Float(
        string='Cost per hour',
        default=0.0, aggregator="avg")</pre></details><details><summary id="f-date_finished">date_finished <span class="position">@ line 76</span></summary><pre>date_finished = fields.Datetime(
        'End',
        compute='_compute_dates',
        inverse='_set_dates',
        store=True, copy=False)</pre></details><details><summary id="f-date_start">date_start <span class="position">@ line 71</span></summary><pre>date_start = fields.Datetime(
        'Start',
        compute='_compute_dates',
        inverse='_set_dates',
        store=True, copy=False)</pre></details><details><summary id="f-duration">duration <span class="position">@ line 84</span></summary><pre>duration = fields.Float(
        'Real Duration', compute='_compute_duration', inverse='_set_duration',
        readonly=False, store=True, copy=False)</pre></details><details><summary id="f-duration_expected">duration_expected <span class="position">@ line 81</span></summary><pre>duration_expected = fields.Float(
        'Expected Duration', digits=(16, 2), compute='_compute_duration_expected',
        readonly=False, store=True)</pre></details><details><summary id="f-duration_percent">duration_percent <span class="position">@ line 90</span></summary><pre>duration_percent = fields.Integer(
        'Duration Deviation (%)', compute='_compute_duration',
        aggregator="avg", readonly=True, store=True)</pre></details><details><summary id="f-duration_unit">duration_unit <span class="position">@ line 87</span></summary><pre>duration_unit = fields.Float(
        'Duration Per Unit', compute='_compute_duration',
        aggregator="avg", readonly=True, store=True)</pre></details><details><summary id="f-finished_lot_id">finished_lot_id <span class="position">@ line 114</span></summary><pre>finished_lot_id = fields.Many2one(
        'stock.lot', string='Lot/Serial Number', related='production_id.lot_producing_id',
        domain="[('product_id', '=', product_id), ('company_id', '=', company_id)]",
        readonly=False, check_company=True)</pre></details><details><summary id="f-is_planned">is_planned <span class="position">@ line 137</span></summary><pre>is_planned = fields.Boolean(related='production_id.is_planned')</pre></details><details><summary id="f-is_produced">is_produced <span class="position">@ line 56</span></summary><pre>is_produced = fields.Boolean(string="Has Been Produced",
        compute='_compute_is_produced')</pre></details><details><summary id="f-is_user_working">is_user_working <span class="position">@ line 120</span></summary><pre>is_user_working = fields.Boolean(
        'Is the Current User Working', compute='_compute_working_users')</pre></details><details><summary id="f-json_popover">json_popover <span class="position">@ line 132</span></summary><pre>json_popover = fields.Char('Popover Data JSON', compute='_compute_json_popover')</pre></details><details><summary id="f-last_working_user_id">last_working_user_id <span class="position">@ line 123</span></summary><pre>last_working_user_id = fields.One2many('res.users', string='Last user that worked on this work order.', compute='_compute_working_users')</pre></details><details><summary id="f-leave_id">leave_id <span class="position">@ line 67</span></summary><pre>leave_id = fields.Many2one(
        'resource.calendar.leaves',
        help='Slot into workcenter calendar once planned',
        check_company=True, copy=False)</pre></details><details><summary id="f-move_finished_ids">move_finished_ids <span class="position">@ line 108</span></summary><pre>move_finished_ids = fields.One2many(
        'stock.move', 'workorder_id', 'Finished Moves',
        domain=[('raw_material_production_id', '=', False), ('production_id', '!=', False)])</pre></details><details><summary id="f-move_line_ids">move_line_ids <span class="position">@ line 111</span></summary><pre>move_line_ids = fields.One2many(
        'stock.move.line', 'workorder_id', 'Moves to Track',
        help="Inventory moves for which you must scan a lot number at this work order")</pre></details><details><summary id="f-move_raw_ids">move_raw_ids <span class="position">@ line 105</span></summary><pre>move_raw_ids = fields.One2many(
        'stock.move', 'workorder_id', 'Raw Moves',
        domain=[('raw_material_production_id', '!=', False), ('production_id', '=', False)])</pre></details><details><summary id="f-name">name <span class="position">@ line 25</span></summary><pre>name = fields.Char(
        'Work Order', required=True)</pre></details><details><summary id="f-needed_by_workorder_ids">needed_by_workorder_ids <span class="position">@ line 143</span></summary><pre>needed_by_workorder_ids = fields.Many2many('mrp.workorder', relation="mrp_workorder_dependencies_rel",
                                     column1="blocked_by_id", column2="workorder_id", string="Blocks",
                                     domain="[('allow_workorder_dependencies', '=', True), ('id', '!=', id), ('production_id', '=', production_id)]",
                                     copy=False)</pre></details><details><summary id="f-operation_id">operation_id <span class="position">@ line 95</span></summary><pre>operation_id = fields.Many2one(
        'mrp.routing.workcenter', 'Operation', check_company=True)</pre></details><details><summary id="f-operation_note">operation_note <span class="position">@ line 104</span></summary><pre>operation_note = fields.Html("Description", related='operation_id.note', readonly=True)</pre></details><details><summary id="f-product_id">product_id <span class="position">@ line 33</span></summary><pre>product_id = fields.Many2one(related='production_id.product_id', readonly=True, store=True, check_company=True)</pre></details><details><summary id="f-product_tracking">product_tracking <span class="position">@ line 34</span></summary><pre>product_tracking = fields.Selection(related="product_id.tracking")</pre></details><details><summary id="f-product_uom_id">product_uom_id <span class="position">@ line 35</span></summary><pre>product_uom_id = fields.Many2one('uom.uom', 'Unit of Measure', required=True, readonly=True)</pre></details><details><summary id="f-production_availability">production_availability <span class="position">@ line 37</span></summary><pre>production_availability = fields.Selection(
        string='Stock Availability', readonly=True,
        related='production_id.reservation_state', store=True)</pre></details><details><summary id="f-production_bom_id">production_bom_id <span class="position">@ line 43</span></summary><pre>production_bom_id = fields.Many2one('mrp.bom', related='production_id.bom_id')</pre></details><details><summary id="f-production_date">production_date <span class="position">@ line 131</span></summary><pre>production_date = fields.Datetime('Production Date', related='production_id.date_start', store=True)</pre></details><details><summary id="f-production_id">production_id <span class="position">@ line 36</span></summary><pre>production_id = fields.Many2one('mrp.production', 'Manufacturing Order', required=True, check_company=True, readonly=True, index='btree')</pre></details><details><summary id="f-production_state">production_state <span class="position">@ line 40</span></summary><pre>production_state = fields.Selection(
        string='Production State', readonly=True,
        related='production_id.state')</pre></details><details><summary id="f-progress">progress <span class="position">@ line 93</span></summary><pre>progress = fields.Float('Progress Done (%)', digits=(16, 2), compute='_compute_progress')</pre></details><details><summary id="f-qty_produced">qty_produced <span class="position">@ line 50</span></summary><pre>qty_produced = fields.Float(
        'Quantity', default=0.0,
        readonly=True,
        digits='Product Unit of Measure',
        copy=False,
        help="The number of products already handled by this work order")</pre></details><details><summary id="f-qty_producing">qty_producing <span class="position">@ line 46</span></summary><pre>qty_producing = fields.Float(
        compute='_compute_qty_producing', inverse='_set_qty_producing',
        string='Currently Produced Quantity', digits='Product Unit of Measure')</pre></details><details><summary id="f-qty_production">qty_production <span class="position">@ line 44</span></summary><pre>qty_production = fields.Float('Original Production Quantity', readonly=True, related='production_id.product_qty')</pre></details><details><summary id="f-qty_remaining">qty_remaining <span class="position">@ line 49</span></summary><pre>qty_remaining = fields.Float('Quantity To Be Produced', compute='_compute_qty_remaining', digits='Product Unit of Measure')</pre></details><details><summary id="f-qty_reported_from_previous_wo">qty_reported_from_previous_wo <span class="position">@ line 135</span></summary><pre>qty_reported_from_previous_wo = fields.Float('Carried Quantity', digits='Product Unit of Measure', copy=False,
        help="The quantity already produced awaiting allocation in the backorders chain.")</pre></details><details><summary id="f-scrap_count">scrap_count <span class="position">@ line 130</span></summary><pre>scrap_count = fields.Integer(compute='_compute_scrap_move_count', string='Scrap Move')</pre></details><details><summary id="f-scrap_ids">scrap_ids <span class="position">@ line 129</span></summary><pre>scrap_ids = fields.One2many('stock.scrap', 'workorder_id')</pre></details><details><summary id="f-show_json_popover">show_json_popover <span class="position">@ line 133</span></summary><pre>show_json_popover = fields.Boolean('Show Popover?', compute='_compute_json_popover')</pre></details><details><summary id="f-state">state <span class="position">@ line 58</span></summary><pre>state = fields.Selection([
        ('pending', 'Waiting for another WO'),
        ('waiting', 'Waiting for components'),
        ('ready', 'Ready'),
        ('progress', 'In Progress'),
        ('done', 'Finished'),
        ('cancel', 'Cancelled')], string='Status',
        compute='_compute_state', store=True,
        default='pending', copy=False, readonly=True, recursive=True, index=True)</pre></details><details><summary id="f-time_ids">time_ids <span class="position">@ line 118</span></summary><pre>time_ids = fields.One2many(
        'mrp.workcenter.productivity', 'workorder_id', copy=False)</pre></details><details><summary id="f-workcenter_id">workcenter_id <span class="position">@ line 28</span></summary><pre>workcenter_id = fields.Many2one(
        'mrp.workcenter', 'Work Center', required=True,
        group_expand='_read_group_workcenter_id', check_company=True)</pre></details><details><summary id="f-working_state">working_state <span class="position">@ line 31</span></summary><pre>working_state = fields.Selection(
        string='Workcenter Status', related='workcenter_id.working_state')</pre></details><details><summary id="f-working_user_ids">working_user_ids <span class="position">@ line 122</span></summary><pre>working_user_ids = fields.One2many('res.users', string='Working user on this work order.', compute='_compute_working_users')</pre></details><details><summary id="f-worksheet">worksheet <span class="position">@ line 98</span></summary><pre>worksheet = fields.Binary(
        'Worksheet', related='operation_id.worksheet', readonly=True)</pre></details><details><summary id="f-worksheet_google_slide">worksheet_google_slide <span class="position">@ line 102</span></summary><pre>worksheet_google_slide = fields.Char(
        'Worksheet URL', related='operation_id.worksheet_google_slide', readonly=True)</pre></details><details><summary id="f-worksheet_type">worksheet_type <span class="position">@ line 100</span></summary><pre>worksheet_type = fields.Selection(
        string='Worksheet Type', related='operation_id.worksheet_type', readonly=True)</pre></details><h3>Methods</h3><ul id="m-_action_confirm"><li>_action_confirm(self) <span class="position">@ line 482</span></li></ul><ul id="m-_cal_cost"><li>_cal_cost(self) <span class="position">@ line 547</span></li></ul><ul id="m-_calculate_date_finished"><li>_calculate_date_finished(self, date_finished) <span class="position">@ line 402</span></li></ul><ul id="m-_calculate_duration_expected"><li>_calculate_duration_expected(self, date_start, date_finished) <span class="position">@ line 416</span></li></ul><ul id="m-_compute_current_operation_cost"><li>_compute_current_operation_cost(self) <span class="position">@ line 893</span></li></ul><ul id="m-_compute_expected_operation_cost"><li>_compute_expected_operation_cost(self) <span class="position">@ line 890</span></li></ul><ul id="m-_compute_scrap_move_count"><li>_compute_scrap_move_count(self) <span class="position">@ line 385</span></li></ul><details><summary id="m-_compute_working_users">_compute_working_users(self) <span class="position">@ line 370</span></summary><pre>Checks whether the current user is working, all the users currently working and the last user that worked.</pre></details><ul id="m-_get_byproduct_move_to_update"><li>_get_byproduct_move_to_update(self) <span class="position">@ line 486</span></li></ul><details><summary id="m-_get_conflicted_workorder_ids">_get_conflicted_workorder_ids(self) <span class="position">@ line 765</span></summary><pre>Get conlicted workorder(s) with self.

Conflict means having two workorders in the same time in the same workcenter.

:return: defaultdict with key as workorder id of self and value as related conflicted workorder</pre></details><ul id="m-_get_duration_expected"><li>_get_duration_expected(self, alternative_workcenter, ratio) <span class="position">@ line 742</span></li></ul><ul id="m-_get_operation_values"><li>_get_operation_values(self) <span class="position">@ line 791</span></li></ul><ul id="m-_plan_workorder"><li>_plan_workorder(self, replan) <span class="position">@ line 489</span></li></ul><ul id="m-_prepare_timeline_vals"><li>_prepare_timeline_vals(self, duration, date_start, date_end) <span class="position">@ line 803</span></li></ul><ul id="m-_read_group_workcenter_id"><li>_read_group_workcenter_id(self, workcenters, domain) <span class="position">@ line 19</span></li></ul><ul id="m-_set_dates"><li>_set_dates(self) <span class="position">@ line 242</span></li></ul><ul id="m-_set_duration"><li>_set_duration(self) <span class="position">@ line 315</span></li></ul><ul id="m-_set_qty_producing"><li>_set_qty_producing(self) <span class="position">@ line 224</span></li></ul><ul id="m-_should_start_timer"><li>_should_start_timer(self) <span class="position">@ line 861</span></li></ul><details><summary id="m-_update_finished_move">_update_finished_move(self) <span class="position">@ line 824</span></summary><pre>Update the finished move & move lines in order to set the finished
product lot on it as well as the produced quantity. This method get the
information either from the last workorder or from the Produce wizard.</pre></details><ul id="m-_update_qty_producing"><li>_update_qty_producing(self, quantity) <span class="position">@ line 864</span></li></ul><ul id="m-action_cancel"><li>action_cancel(self) <span class="position">@ line 681</span></li></ul><ul id="m-action_mark_as_done"><li>action_mark_as_done(self) <span class="position">@ line 881</span></li></ul><ul id="m-action_open_wizard"><li>action_open_wizard(self) <span class="position">@ line 728</span></li></ul><details><summary id="m-action_replan">action_replan(self) <span class="position">@ line 686</span></summary><pre>Replan a work order.

It actually replans every  "ready" or "pending"
work orders of the linked manufacturing orders.</pre></details><ul id="m-action_see_move_scrap"><li>action_see_move_scrap(self) <span class="position">@ line 722</span></li></ul><ul id="m-button_done"><li>button_done(self) <span class="position">@ line 696</span></li></ul><ul id="m-button_finish"><li>button_finish(self) <span class="position">@ line 640</span></li></ul><ul id="m-button_pending"><li>button_pending(self) <span class="position">@ line 672</span></li></ul><ul id="m-button_scrap"><li>button_scrap(self) <span class="position">@ line 707</span></li></ul><ul id="m-button_start"><li>button_start(self) <span class="position">@ line 588</span></li></ul><ul id="m-button_unblock"><li>button_unblock(self) <span class="position">@ line 676</span></li></ul><ul id="m-end_all"><li>end_all(self) <span class="position">@ line 669</span></li></ul><details><summary id="m-end_previous">end_previous(self, doall) <span class="position">@ line 657</span></summary><pre>@param: doall:  This will close all open time lines on the open work orders when doall = True, otherwise
only the one of the current user</pre></details><ul id="m-get_duration"><li>get_duration(self) <span class="position">@ line 877</span></li></ul><details><summary id="m-get_working_duration">get_working_duration(self) <span class="position">@ line 869</span></summary><pre>Get the additional duration for 'open times' i.e. productivity lines with no date_end.</pre></details><ul id="m-unlink"><li>unlink(self) <span class="position">@ line 278</span></li></ul><ul id="m-write"><li>write(self, values) <span class="position">@ line 430</span></li></ul><h2>Inherited: odoo/addons/mrp_account/models/mrp_workorder.py</h2><h3>Fields</h3><details><summary id="f-mo_analytic_account_line_ids">mo_analytic_account_line_ids <span class="position">@ line 10</span></summary><pre>mo_analytic_account_line_ids = fields.Many2many('account.analytic.line', 'mrp_workorder_mo_analytic_rel', copy=False)</pre></details><details><summary id="f-wc_analytic_account_line_ids">wc_analytic_account_line_ids <span class="position">@ line 11</span></summary><pre>wc_analytic_account_line_ids = fields.Many2many('account.analytic.line', 'mrp_workorder_wc_analytic_rel', copy=False)</pre></details><h3>Methods</h3><ul id="m-_compute_duration"><li>_compute_duration(self) <span class="position">@ line 13</span></li></ul><ul id="m-_create_or_update_analytic_entry"><li>_create_or_update_analytic_entry(self) <span class="position">@ line 41</span></li></ul><ul id="m-_prepare_analytic_line_values"><li>_prepare_analytic_line_values(self, account_field_values, amount, unit_amount) <span class="position">@ line 27</span></li></ul><ul id="m-_set_duration"><li>_set_duration(self) <span class="position">@ line 18</span></li></ul><ul id="m-action_cancel"><li>action_cancel(self) <span class="position">@ line 23</span></li></ul><ul id="m-unlink"><li>unlink(self) <span class="position">@ line 54</span></li></ul><script src="class.js"></script></body></html>
