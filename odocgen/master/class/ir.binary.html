<!doctype html><html lang="en"><head><meta charset="UTF-8" /><meta name="viewport" content="width=device-width, initial-scale=1.0" /><title>ir.binary - odocgen</title><link rel="stylesheet" href="class.css" /></head><body><h1>ir.binary</h1><p>Originally defined in: odoo/odoo/addons/base/models/ir_binary.py</p><p>Inherited in: odoo/addons/website/models/ir_binary.py<br/>Inherited in: odoo/addons/pos_self_order/models/ir_binary.py<br/>Inherited in: odoo/addons/point_of_sale/models/ir_binary.py<br/>Inherited in: odoo/addons/im_livechat/models/ir_binary.py<br/></p><hr/><h2>Original: odoo/odoo/addons/base/models/ir_binary.py</h2><h3>Methods</h3><details><summary id="m-_find_record">_find_record(self, xmlid, res_model, res_id, access_token, field) <span class="position">@ line 22</span></summary><pre>Find and return a record either using an xmlid either a model+id
pair. This method is an helper for the ``/web/content`` and
``/web/image`` controllers and should not be used in other
contextes.

:param Optional[str] xmlid: xmlid of the record
:param Optional[str] res_model: model of the record,
ir.attachment by default.
:param Optional[id] res_id: id of the record
:param Optional[str] access_token: access token to use instead
of the access rights and access rules.
:returns: single record
:raises MissingError: when no record was found.</pre></details><ul id="m-_find_record_check_access"><li>_find_record_check_access(self, record, access_token, field) <span class="position">@ line 52</span></li></ul><details><summary id="m-_get_image_stream_from">_get_image_stream_from(self, record, field_name, filename, filename_field, mimetype, default_mimetype, placeholder, width, height, crop, quality) <span class="position">@ line 156</span></summary><pre>Create a :class:odoo.http.Stream: from a record's binary field,
equivalent of :meth:`~get_stream_from` but for images.

In case the record does not exist or is not accessible, the
alternative ``placeholder`` path is used instead. If not set,
a path is determined via
:meth:`~odoo.models.BaseModel._get_placeholder_filename` which
ultimately fallbacks on ``web/static/img/placeholder.png``.

In case the arguments ``width``, ``height``, ``crop`` or
``quality`` are given, the image will be post-processed and the
ETags (the unique cache http header) will be updated
accordingly. See also :func:`odoo.tools.image.image_process`.

:param record: the record where to load the data from.
:param str field_name: the binary field where to load the data
from.
:param Optional[str] filename: when the stream is downloaded by
a browser, what filename it should have on disk. By default
it is ``{table}-{id}-{field}.{extension}``, the extension is
determined thanks to mimetype.
:param Optional[str] filename_field: like ``filename`` but use
one of the record's char field as filename.
:param Optional[str] mimetype: the data mimetype to use instead
of the stored one (attachment) or the one determined by
magic.
:param str default_mimetype: the mimetype to use when the
mimetype couldn't be determined. By default it is
``image/png``.
:param Optional[pathlike] placeholder: in case the image is not
found or unaccessible, the path of an image to use instead.
By default the record ``_get_placeholder_filename`` on the
requested field or ``web/static/img/placeholder.png``.
:param int width: if not zero, the width of the resized image.
:param int height: if not zero, the height of the resized image.
:param bool crop: if true, crop the image instead of rezising
it.
:param int quality: if not zero, the quality of the resized
image.</pre></details><ul id="m-_get_placeholder_stream"><li>_get_placeholder_stream(self, path) <span class="position">@ line 250</span></li></ul><details><summary id="m-_get_stream_from">_get_stream_from(self, record, field_name, filename, filename_field, mimetype, default_mimetype) <span class="position">@ line 92</span></summary><pre>Create a :class:odoo.http.Stream: from a record's binary field.

:param record: the record where to load the data from.
:param str field_name: the binary field where to load the data
from.
:param Optional[str] filename: when the stream is downloaded by
a browser, what filename it should have on disk. By default
it is ``{model}-{id}-{field}.{extension}``, the extension is
determined thanks to mimetype.
:param Optional[str] filename_field: like ``filename`` but use
one of the record's char field as filename.
:param Optional[str] mimetype: the data mimetype to use instead
of the stored one (attachment) or the one determined by
magic.
:param str default_mimetype: the mimetype to use when the
mimetype couldn't be determined. By default it is
``application/octet-stream``.
:rtype: odoo.http.Stream</pre></details><ul id="m-_placeholder"><li>_placeholder(self, path) <span class="position">@ line 255</span></li></ul><details><summary id="m-_record_to_stream">_record_to_stream(self, record, field_name) <span class="position">@ line 60</span></summary><pre>Low level method responsible for the actual conversion from a
model record to a stream. This method is an extensible hook for
other modules. It is not meant to be directly called from
outside or the ir.binary model.

:param record: the record where to load the data from.
:param str field_name: the binary field where to load the data
from.
:rtype: odoo.http.Stream</pre></details><h2>Inherited: odoo/addons/website/models/ir_binary.py</h2><h3>Methods</h3><ul id="m-_find_record"><li>_find_record(self, xmlid, res_model, res_id, access_token, field) <span class="position">@ line 7</span></li></ul><ul id="m-_find_record_check_access"><li>_find_record_check_access(self, record, access_token, field) <span class="position">@ line 27</span></li></ul><h2>Inherited: odoo/addons/pos_self_order/models/ir_binary.py</h2><h3>Methods</h3><ul id="m-_find_record_check_access"><li>_find_record_check_access(self, record, access_token, field) <span class="position">@ line 7</span></li></ul><h2>Inherited: odoo/addons/point_of_sale/models/ir_binary.py</h2><h3>Methods</h3><ul id="m-_find_record_check_access"><li>_find_record_check_access(self, record, access_token, field) <span class="position">@ line 7</span></li></ul><h2>Inherited: odoo/addons/im_livechat/models/ir_binary.py</h2><h3>Methods</h3><details><summary id="m-_find_record_check_access">_find_record_check_access(self, record, access_token, field) <span class="position">@ line 9</span></summary><pre>Custom access check allowing to retrieve an operator's avatar.

Here, we assume that if you are a member of at least one
im_livechat.channel, then it's ok to make your avatar publicly
available.

We also make the chatbot operator avatars publicly available.</pre></details><script src="class.js"></script></body></html>
