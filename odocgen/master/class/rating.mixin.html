<!doctype html><html lang="en"><head><meta charset="UTF-8" /><meta name="viewport" content="width=device-width, initial-scale=1.0" /><title>rating.mixin - odocgen</title><link rel="stylesheet" href="class.css" /></head><body><h1>rating.mixin</h1><p>Inherited in: odoo/addons/rating/models/rating_mixin.py<br/></p><hr/><h2>Inherited: odoo/addons/rating/models/rating_mixin.py</h2><h3>Fields</h3><details><summary id="f-rating_avg">rating_avg <span class="position">@ line 20</span></summary><pre>rating_avg = fields.Float("Average Rating", groups='base.group_user',
        compute='_compute_rating_stats', compute_sudo=True, search='_search_rating_avg')</pre></details><details><summary id="f-rating_avg_text">rating_avg_text <span class="position">@ line 22</span></summary><pre>rating_avg_text = fields.Selection(rating_data.RATING_TEXT, groups='base.group_user',
        compute='_compute_rating_avg_text', compute_sudo=True)</pre></details><details><summary id="f-rating_count">rating_count <span class="position">@ line 19</span></summary><pre>rating_count = fields.Integer('Rating count', compute="_compute_rating_stats", compute_sudo=True)</pre></details><details><summary id="f-rating_last_feedback">rating_last_feedback <span class="position">@ line 17</span></summary><pre>rating_last_feedback = fields.Text('Rating Last Feedback', groups='base.group_user', related='rating_ids.feedback')</pre></details><details><summary id="f-rating_last_image">rating_last_image <span class="position">@ line 18</span></summary><pre>rating_last_image = fields.Binary('Rating Last Image', groups='base.group_user', related='rating_ids.rating_image')</pre></details><details><summary id="f-rating_last_text">rating_last_text <span class="position">@ line 25</span></summary><pre>rating_last_text = fields.Selection(string="Rating Text", groups='base.group_user', related="rating_ids.rating_text")</pre></details><details><summary id="f-rating_last_value">rating_last_value <span class="position">@ line 16</span></summary><pre>rating_last_value = fields.Float('Rating Last Value', groups='base.group_user', compute='_compute_rating_last_value', compute_sudo=True, store=True)</pre></details><details><summary id="f-rating_percentage_satisfaction">rating_percentage_satisfaction <span class="position">@ line 24</span></summary><pre>rating_percentage_satisfaction = fields.Float("Rating Satisfaction", compute='_compute_rating_satisfaction', compute_sudo=True)</pre></details><h3>Methods</h3><details><summary id="m-_rating_domain">_rating_domain(self) <span class="position">@ line 114</span></summary><pre>Returns a normalized domain on rating.rating to select the records to
include in count, avg, ... computation of current model.</pre></details><details><summary id="m-_rating_get_parent_field_name">_rating_get_parent_field_name(self) <span class="position">@ line 110</span></summary><pre>Return the parent relation field name. Should return a Many2One</pre></details><details><summary id="m-_rating_get_repartition">_rating_get_repartition(self, add_stats, domain) <span class="position">@ line 120</span></summary><pre>get the repatition of rating grade for the given res_ids.
:param add_stats : flag to add stat to the result
:type add_stats : boolean
:param domain : optional extra domain of the rating to include/exclude in repartition
:return dictionnary
if not add_stats, the dict is like
- key is the rating value (integer)
- value is the number of object (res_model, res_id) having the value
otherwise, key is the value of the information (string) : either stat name (avg, total, ...) or 'repartition'
containing the same dict if add_stats was False.</pre></details><ul id="m-_search_rating_avg"><li>_search_rating_avg(self, operator, value) <span class="position">@ line 60</span></li></ul><details><summary id="m-rating_get_grades">rating_get_grades(self, domain) <span class="position">@ line 151</span></summary><pre>get the repatition of rating grade for the given res_ids.
:param domain : optional domain of the rating to include/exclude in grades computation
:return dictionnary where the key is the grade (great, okay, bad), and the value, the number of object (res_model, res_id) having the grade
the grade are compute as    0-30% : Bad
31-69%: Okay
70-100%: Great</pre></details><details><summary id="m-rating_get_stats">rating_get_stats(self, domain) <span class="position">@ line 166</span></summary><pre>get the statistics of the rating repatition
:param domain : optional domain of the rating to include/exclude in statistic computation
:return dictionnary where
- key is the name of the information (stat name)
- value is statistic value : 'percent' contains the repartition in percentage, 'avg' is the average rate
and 'total' is the number of rating</pre></details><details><summary id="m-write">write(self, values) <span class="position">@ line 97</span></summary><pre>If the rated ressource name is modified, we should update the rating res_name too.
If the rated ressource parent is changed we should update the parent_res_id too</pre></details><script src="class.js"></script></body></html>
